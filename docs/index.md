# HFT Arbitrage Bot - Documentation Index

> **Project:** bot4 (HFT Arbitrage Bot MVP)  
> **Type:** Rust Backend  
> **Generated:** Auto-generated by document-project workflow

---

## Quick Navigation

| Document | Purpose |
|----------|---------|
| [Architecture](architecture.md) | System design, module structure, component diagrams |
| [Data Models](data-models.md) | All structs, enums, and type definitions |
| [API Contracts](api-contracts.md) | Trait interfaces, REST/WS protocols, env vars |
| [Source Tree](source-tree.md) | File listing with line counts and purposes |

---

## Project Overview

Delta-neutral HFT arbitrage bot for perpetual futures. Monitors price spreads between two DEXes (Vest and Paradex) and executes simultaneous long/short positions when spreads exceed thresholds.

### Key Features

- **Dual Exchange Adapters**: Vest (EIP-712) and Paradex (Starknet SNIP-12)
- **Real-time Spread Calculation**: <2ms latency target
- **VWAP Execution Pricing**: Accounts for orderbook depth and slippage
- **Comprehensive Error Handling**: Typed errors with thiserror
- **Sensitive Data Protection**: SanitizedValue for logging credentials

### Technology Stack

| Category | Technology |
|----------|------------|
| Language | Rust 2021 |
| Runtime | Tokio (async) |
| Transport | WebSocket + REST |
| Crypto | ethers, starknet-crypto |
| Config | YAML (serde_yaml) |
| Logging | tracing |

---

## Module Summary

```
src/
├── adapters/    # Exchange connectivity (5008 lines)
│   ├── vest.rs      → Vest Markets (EIP-712 auth)
│   ├── paradex.rs   → Paradex (Starknet auth)
│   ├── traits.rs    → ExchangeAdapter trait
│   ├── types.rs     → Orderbook, OrderRequest, ConnectionHealth
│   └── errors.rs    → ExchangeError variants
│
├── core/        # Business logic (1862 lines)
│   ├── spread.rs    → SpreadCalculator (entry/exit/dual)
│   ├── vwap.rs      → VWAP with slippage tracking
│   ├── state.rs     → SharedAppState, BotState, Metrics
│   ├── channels.rs  → Inter-task communication
│   └── logging.rs   → Structured logging utilities
│
├── config/      # Configuration (873 lines)
│   ├── types.rs     → AppConfig, BotConfig, RiskConfig
│   ├── loader.rs    → YAML loading & validation
│   ├── constants.rs → Environment-configurable defaults
│   └── supabase.rs  → Database config
│
└── root/        # Entry points (116 lines)
    ├── main.rs      → Application entry (scaffold)
    ├── lib.rs       → Library exports
    └── error.rs     → AppError enum
```

---

## Getting Started

### Prerequisites

- Rust 1.70+
- Exchange API credentials (Vest, Paradex)

### Configuration

1. Copy `data/config.example.yaml` → `data/config.yaml`
2. Set environment variables:
   ```bash
   export VEST_PRIMARY_ADDR="0x..."
   export VEST_PRIMARY_KEY="0x..."
   export VEST_SIGNING_KEY="0x..."
   export PARADEX_PRIVATE_KEY="0x..."
   ```

### Running

```bash
cargo run --release
```

### Testing

```bash
cargo test
```

---

## AI Development Context

This documentation is optimized for AI-assisted development. Key patterns:

1. **ExchangeAdapter Trait**: Uniform interface for adding new exchanges
2. **SharedAppState**: Thread-safe state via `Arc<RwLock<T>>`
3. **ChannelBundle**: Tokio channels for task coordination
4. **Error Propagation**: `thiserror` + `anyhow` for typed errors
5. **Config Validation**: Compile-time via serde + runtime validation rules

---

## Related Resources

- [README.md](../README.md) - Project introduction
- [Cargo.toml](../Cargo.toml) - Dependencies
